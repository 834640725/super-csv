<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-23 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141123" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Super CSV &#x2013; Writing CSV files</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Super CSV</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="projectVersion">Version: 2.2.1-SNAPSHOT
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Super CSV">
        Super CSV</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Writing CSV files</li>
                
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2014-11-23</li>
            
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://sourceforge.net/p/supercsv/donate/" class="externalLink" title="Donate">
        Donate</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://sourceforge.net/projects/supercsv/" class="externalLink" title="Super CSV @ SourceForge">
        Super CSV @ SourceForge</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">About Super CSV</li>
                              
      <li>
  
                          <a href="index.html" title="Welcome">
          <i class="none"></i>
        Welcome</a>
            </li>
                
      <li>
  
                          <a href="csv_specification.html" title="What is CSV?">
          <i class="none"></i>
        What is CSV?</a>
            </li>
                
      <li>
  
                          <a href="release_notes.html" title="Release notes">
          <i class="none"></i>
        Release notes</a>
            </li>
                
      <li>
  
                          <a href="roadmap.html" title="Roadmap">
          <i class="none"></i>
        Roadmap</a>
            </li>
                
      <li>
  
                          <a href="team-list.html" title="Team list">
          <i class="none"></i>
        Team list</a>
            </li>
                
      <li>
  
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                              <li class="nav-header">Getting Started</li>
                              
      <li>
  
                          <a href="getting_started.html" title="Where to begin?">
          <i class="none"></i>
        Where to begin?</a>
            </li>
                
      <li>
  
                          <a href="downloading.html" title="Downloading">
          <i class="none"></i>
        Downloading</a>
            </li>
                
      <li>
  
                          <a href="readers.html" title="Readers">
          <i class="none"></i>
        Readers</a>
            </li>
                
      <li>
  
                          <a href="writers.html" title="Writers">
          <i class="none"></i>
        Writers</a>
            </li>
                
      <li>
  
                          <a href="preferences.html" title="Preferences">
          <i class="none"></i>
        Preferences</a>
            </li>
                
      <li>
  
                          <a href="cell_processors.html" title="Cell processors">
          <i class="none"></i>
        Cell processors</a>
            </li>
                
      <li>
  
                          <a href="dozer.html" title="Dozer extension">
          <i class="none"></i>
        Dozer extension</a>
            </li>
                
      <li>
  
                          <a href="help.html" title="Help!">
          <i class="none"></i>
        Help!</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="examples_reading.html" title="Reading CSV files">
          <i class="none"></i>
        Reading CSV files</a>
            </li>
                
      <li>
  
                          <a href="examples_reading_variable_cols.html" title="Reading CSV files with variable columns">
          <i class="none"></i>
        Reading CSV files with variable columns</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Writing CSV files</a>
          </li>
                
      <li>
  
                          <a href="examples_partial_reading.html" title="Partial reading">
          <i class="none"></i>
        Partial reading</a>
            </li>
                
      <li>
  
                          <a href="examples_partial_writing.html" title="Partial writing">
          <i class="none"></i>
        Partial writing</a>
            </li>
                
      <li>
  
                          <a href="examples_dozer.html" title="Reading and writing CSV files with Dozer">
          <i class="none"></i>
        Reading and writing CSV files with Dozer</a>
            </li>
                
      <li>
  
                          <a href="examples_new_cell_processor.html" title="Custom cell processors">
          <i class="none"></i>
        Custom cell processors</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="apidocs/index.html" title="Javadoc">
          <i class="none"></i>
        Javadoc</a>
            </li>
                
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <i class="none"></i>
        Source Xref</a>
            </li>
                
      <li>
  
                          <a href="xref-test/index.html" title="Test source Xref">
          <i class="none"></i>
        Test source Xref</a>
            </li>
                              <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="super-csv/index.html" title="Super CSV Core">
          <i class="none"></i>
        Super CSV Core</a>
            </li>
                
      <li>
  
                          <a href="super-csv-dozer/index.html" title="Super CSV Dozer Extension">
          <i class="none"></i>
        Super CSV Dozer Extension</a>
            </li>
                
      <li>
  
                          <a href="super-csv-distribution/index.html" title="Super CSV Distribution">
          <i class="none"></i>
        Super CSV Distribution</a>
            </li>
                
      <li>
  
                          <a href="super-csv-benchmark/index.html" title="Super CSV Benchmarks">
          <i class="none"></i>
        Super CSV Benchmarks</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="supercsv.sourceforge.net" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://supercsv.sourceforge.net" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=http://supercsv.sourceforge.net&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><!-- Copyright 2007 Kasper B. Graversen --><!--  --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><div class="section">
<h2><a name="Writing_CSV_files"></a>Writing CSV files</h2>
<p>This page contains some examples of writing CSV files using Super CSV. You can view the full source of the examples <a href="./xref-test/org/supercsv/example/Writing.html">here</a>. For examples of writing CSV files with Dozer (using CsvDozerBeanWriter), click <a href="./examples_dozer.html">here</a>.</p>
<div class="section">
<h3><a name="Example_cell_processor_configuration"></a>Example cell processor configuration</h3>
<p>All of the examples on this page use the following <a href="./cell_processors.html">cell processor</a> configuration.</p>
<p>It demonstrates:</p>
<ul>
<li>mandatory columns (<tt>new NotNull()</tt>)</li>
<li>optional columns (<tt>new Optional()</tt>), with further processing</li>
<li>formatting of Dates (<tt>new FmtDate()</tt>) and Booleans (<tt>new FmtBool()</tt>)</li>
<li>constraint validation of numeric ranges (<tt>new LMinMax()</tt>) and uniqueness (<tt>new UniqueHashCode()</tt>)</li></ul>
<p>Don't forget that you can <a href="./examples_new_cell_processor.html">write your own cell processors</a> if you want!</p>
<div class="source">
<pre>/**
 * Sets up the processors used for the examples. There are 10 CSV columns, so 10 processors are defined. All values
 * are converted to Strings before writing (there's no need to convert them), and null values will be written as
 * empty columns (no need to convert them to &quot;&quot;).
 * 
 * @return the cell processors
 */
private static CellProcessor[] getProcessors() {
        
        final CellProcessor[] processors = new CellProcessor[] { 
                new UniqueHashCode(), // customerNo (must be unique)
                new NotNull(), // firstName
                new NotNull(), // lastName
                new FmtDate(&quot;dd/MM/yyyy&quot;), // birthDate
                new NotNull(), // mailingAddress
                new Optional(new FmtBool(&quot;Y&quot;, &quot;N&quot;)), // married
                new Optional(), // numberOfKids
                new NotNull(), // favouriteQuote
                new NotNull(), // email
                new LMinMax(0L, LMinMax.MAX_LONG) // loyaltyPoints
        };
        
        return processors;
}</pre></div></div>
<div class="section">
<h3><a name="Writing_with_CsvBeanWriter"></a>Writing with CsvBeanWriter</h3>
<p><a href="./apidocs/org/supercsv/io/CsvBeanWriter.html">CsvBeanWriter</a> is the easiest writer to work with. The example writes a List of <a href="./xref-test/org/supercsv/mock/CustomerBean.html">CustomerBean</a>s (which extend from <a href="./xref-test/org/supercsv/mock/PersonBean.html">PersonBean</a>) to a CSV file.</p>
<p>This relies on the fact that the bean's field names match up exactly with the column names in the header of the CSV file</p>
<div>
<pre>customerNo,firstName,lastName,birthDate,mailingAddress,married,numberOfKids,favouriteQuote,email,loyaltyPoints</pre></div>
<p>and the bean has the appropriate getters defined for each field.</p>
<p>If your header doesn't match (the column names have spaces, for example), then you can simply define your own name mapping array that <i>does</i> match the field names.</p>
<p>Note that the cell processors are compatible with their associated field types in the bean (e.g. <tt>birthDate</tt> is a <tt>java.util.Date</tt> in the bean, and uses the <tt>FmtDate</tt> cell processor).</p>
<div class="source">
<pre>/**
 * An example of writing using CsvBeanWriter.
 */
private static void writeWithCsvBeanWriter() throws Exception {
        
        // create the customer beans
        final CustomerBean john = new CustomerBean(&quot;1&quot;, &quot;John&quot;, &quot;Dunbar&quot;,
                new GregorianCalendar(1945, Calendar.JUNE, 13).getTime(),
                &quot;1600 Amphitheatre Parkway\nMountain View, CA 94043\nUnited States&quot;, null, null,
                &quot;\&quot;May the Force be with you.\&quot; - Star Wars&quot;, &quot;jdunbar@gmail.com&quot;, 0L);
        final CustomerBean bob = new CustomerBean(&quot;2&quot;, &quot;Bob&quot;, &quot;Down&quot;,
                new GregorianCalendar(1919, Calendar.FEBRUARY, 25).getTime(),
                &quot;1601 Willow Rd.\nMenlo Park, CA 94025\nUnited States&quot;, true, 0,
                &quot;\&quot;Frankly, my dear, I don't give a damn.\&quot; - Gone With The Wind&quot;, &quot;bobdown@hotmail.com&quot;, 123456L);
        final List&lt;CustomerBean&gt; customers = Arrays.asList(john, bob);
        
        ICsvBeanWriter beanWriter = null;
        try {
                beanWriter = new CsvBeanWriter(new FileWriter(&quot;target/writeWithCsvBeanWriter.csv&quot;),
                        CsvPreference.STANDARD_PREFERENCE);
                
                // the header elements are used to map the bean values to each column (names must match)
                final String[] header = new String[] { &quot;customerNo&quot;, &quot;firstName&quot;, &quot;lastName&quot;, &quot;birthDate&quot;,
                        &quot;mailingAddress&quot;, &quot;married&quot;, &quot;numberOfKids&quot;, &quot;favouriteQuote&quot;, &quot;email&quot;, &quot;loyaltyPoints&quot; };
                final CellProcessor[] processors = getProcessors();
                
                // write the header
                beanWriter.writeHeader(header);
                
                // write the beans
                for( final CustomerBean customer : customers ) {
                        beanWriter.write(customer, header, processors);
                }
                
        }
        finally {
                if( beanWriter != null ) {
                        beanWriter.close();
                }
        }
}</pre></div>
<p>Output:</p>
<div>
<pre>customerNo,firstName,lastName,birthDate,mailingAddress,married,numberOfKids,favouriteQuote,email,loyaltyPoints
1,John,Dunbar,13/06/1945,&quot;1600 Amphitheatre Parkway
Mountain View, CA 94043
United States&quot;,,,&quot;&quot;&quot;May the Force be with you.&quot;&quot; - Star Wars&quot;,jdunbar@gmail.com,0
2,Bob,Down,25/02/1919,&quot;1601 Willow Rd.
Menlo Park, CA 94025
United States&quot;,Y,0,&quot;&quot;&quot;Frankly, my dear, I don't give a damn.&quot;&quot; - Gone With The Wind&quot;,bobdown@hotmail.com,123456</pre></div></div>
<div class="section">
<h3><a name="Writing_with_CsvListWriter"></a>Writing with CsvListWriter</h3>
<p><a href="./apidocs/org/supercsv/io/CsvListWriter.html">CsvListWriter</a> is the most primitive writer and should only be used if it's not possible to use the other implementations.</p>
<p>On the other hand, it is the only writer that can be used for writing CSV files with an arbitrary number of columns (which is not technically valid CSV, but still happens), and it's a quick and dirty way to write CSV from a List or array of Strings.</p>
<div class="source">
<pre>/**
 * An example of reading using CsvListWriter.
 */
private static void writeWithCsvListWriter() throws Exception {
        
        // create the customer Lists (CsvListWriter also accepts arrays!)
        final List&lt;Object&gt; john = Arrays.asList(new Object[] { &quot;1&quot;, &quot;John&quot;, &quot;Dunbar&quot;,
                new GregorianCalendar(1945, Calendar.JUNE, 13).getTime(),
                &quot;1600 Amphitheatre Parkway\nMountain View, CA 94043\nUnited States&quot;, null, null,
                &quot;\&quot;May the Force be with you.\&quot; - Star Wars&quot;, &quot;jdunbar@gmail.com&quot;, 0L });
        
        final List&lt;Object&gt; bob = Arrays.asList(new Object[] { &quot;2&quot;, &quot;Bob&quot;, &quot;Down&quot;,
                new GregorianCalendar(1919, Calendar.FEBRUARY, 25).getTime(),
                &quot;1601 Willow Rd.\nMenlo Park, CA 94025\nUnited States&quot;, true, 0,
                &quot;\&quot;Frankly, my dear, I don't give a damn.\&quot; - Gone With The Wind&quot;, &quot;bobdown@hotmail.com&quot;, 123456L });
        
        ICsvListWriter listWriter = null;
        try {
                listWriter = new CsvListWriter(new FileWriter(&quot;target/writeWithCsvListWriter.csv&quot;),
                        CsvPreference.STANDARD_PREFERENCE);
                
                final CellProcessor[] processors = getProcessors();
                final String[] header = new String[] { &quot;customerNo&quot;, &quot;firstName&quot;, &quot;lastName&quot;, &quot;birthDate&quot;,
                        &quot;mailingAddress&quot;, &quot;married&quot;, &quot;numberOfKids&quot;, &quot;favouriteQuote&quot;, &quot;email&quot;, &quot;loyaltyPoints&quot; };
                
                // write the header
                listWriter.writeHeader(header);
                
                // write the customer lists
                listWriter.write(john, processors);
                listWriter.write(bob, processors);
                
        }
        finally {
                if( listWriter != null ) {
                        listWriter.close();
                }
        }
}</pre></div>
<p>Output:</p>
<div>
<pre>customerNo,firstName,lastName,birthDate,mailingAddress,married,numberOfKids,favouriteQuote,email,loyaltyPoints
1,John,Dunbar,13/06/1945,&quot;1600 Amphitheatre Parkway
Mountain View, CA 94043
United States&quot;,,,&quot;&quot;&quot;May the Force be with you.&quot;&quot; - Star Wars&quot;,jdunbar@gmail.com,0
2,Bob,Down,25/02/1919,&quot;1601 Willow Rd.
Menlo Park, CA 94025
United States&quot;,Y,0,&quot;&quot;&quot;Frankly, my dear, I don't give a damn.&quot;&quot; - Gone With The Wind&quot;,bobdown@hotmail.com,123456</pre></div></div>
<div class="section">
<h3><a name="Writing_with_CsvMapWriter"></a>Writing with CsvMapWriter</h3>
<p><a href="./apidocs/org/supercsv/io/CsvMapWriter.html">CsvMapWriter</a> is a good compromise if you can't use <a href="./apidocs/org/supercsv/io/CsvBeanWriter.html">CsvBeanWriter</a>.</p>
<div class="source">
<pre>/**
 * An example of reading using CsvMapWriter.
 */
private static void writeWithCsvMapWriter() throws Exception {
        
        final String[] header = new String[] { &quot;customerNo&quot;, &quot;firstName&quot;, &quot;lastName&quot;, &quot;birthDate&quot;, &quot;mailingAddress&quot;,
                &quot;married&quot;, &quot;numberOfKids&quot;, &quot;favouriteQuote&quot;, &quot;email&quot;, &quot;loyaltyPoints&quot; };
        
        // create the customer Maps (using the header elements for the column keys)
        final Map&lt;String, Object&gt; john = new HashMap&lt;String, Object&gt;();
        john.put(header[0], &quot;1&quot;);
        john.put(header[1], &quot;John&quot;);
        john.put(header[2], &quot;Dunbar&quot;);
        john.put(header[3], new GregorianCalendar(1945, Calendar.JUNE, 13).getTime());
        john.put(header[4], &quot;1600 Amphitheatre Parkway\nMountain View, CA 94043\nUnited States&quot;);
        john.put(header[5], null);
        john.put(header[6], null);
        john.put(header[7], &quot;\&quot;May the Force be with you.\&quot; - Star Wars&quot;);
        john.put(header[8], &quot;jdunbar@gmail.com&quot;);
        john.put(header[9], 0L);
        
        final Map&lt;String, Object&gt; bob = new HashMap&lt;String, Object&gt;();
        bob.put(header[0], &quot;2&quot;);
        bob.put(header[1], &quot;Bob&quot;);
        bob.put(header[2], &quot;Down&quot;);
        bob.put(header[3], new GregorianCalendar(1919, Calendar.FEBRUARY, 25).getTime());
        bob.put(header[4], &quot;1601 Willow Rd.\nMenlo Park, CA 94025\nUnited States&quot;);
        bob.put(header[5], true);
        bob.put(header[6], 0);
        bob.put(header[7], &quot;\&quot;Frankly, my dear, I don't give a damn.\&quot; - Gone With The Wind&quot;);
        bob.put(header[8], &quot;bobdown@hotmail.com&quot;);
        bob.put(header[9], 123456L);
        
        ICsvMapWriter mapWriter = null;
        try {
                mapWriter = new CsvMapWriter(new FileWriter(&quot;target/writeWithCsvMapWriter.csv&quot;),
                        CsvPreference.STANDARD_PREFERENCE);
                
                final CellProcessor[] processors = getProcessors();
                
                // write the header
                mapWriter.writeHeader(header);
                
                // write the customer maps
                mapWriter.write(john, header, processors);
                mapWriter.write(bob, header, processors);
                
        }
        finally {
                if( mapWriter != null ) {
                        mapWriter.close();
                }
        }
}</pre></div>
<p>Output:</p>
<div>
<pre>customerNo,firstName,lastName,birthDate,mailingAddress,married,numberOfKids,favouriteQuote,email,loyaltyPoints
1,John,Dunbar,13/06/1945,&quot;1600 Amphitheatre Parkway
Mountain View, CA 94043
United States&quot;,,,&quot;&quot;&quot;May the Force be with you.&quot;&quot; - Star Wars&quot;,jdunbar@gmail.com,0
2,Bob,Down,25/02/1919,&quot;1601 Willow Rd.
Menlo Park, CA 94025
United States&quot;,Y,0,&quot;&quot;&quot;Frankly, my dear, I don't give a damn.&quot;&quot; - Gone With The Wind&quot;,bobdown@hotmail.com,123456</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2007&#x2013;2014
                        <a href="http://supercsv.sourceforge.net/">Super CSV</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>